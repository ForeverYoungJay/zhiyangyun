# 架构说明

## 1. 总体
- 前端：Vue3 + ElementPlus（管理端联调台）
- 后端：FastAPI + SQLAlchemy + Alembic
- 数据库：PostgreSQL
- 部署：Docker Compose（web/api/db/seed）

## 2. 分层
1) API 路由层：`app/api/routes/*`  
2) 服务层：`app/services/*`（业务联动）  
3) 模型层：`app/models/*`（A1/A2/B 全域模型）  
4) 数据层：SQLAlchemy Session + Alembic

## 3. 关键业务链路
建档 -> 入院 -> 床位绑定 -> 护理任务生成 -> 扫码执行 -> 自动扣费/护理记录 -> 家属可视 -> 问卷 -> 绩效汇总。

## 4. 本轮新增链路
B2 家属端补齐：
- 长者总览（档案+最近体征+生效套餐数）
- 服务目录（项目/套餐）
- 服务增购下单（写入 ElderPackage）
